# serializer version: 1
# name: test_finalize[mongo]
  dict({
    '_id': 'fb085f7f',
    'count': 1,
    'created_at': 'approximately_now_datetime',
    'deleted': False,
    'file': dict({
      'id': 1,
      'name': 'malus.fa.gz',
    }),
    'gc': dict({
      'a': 0.2,
      'c': 0.2,
      'g': 0.2,
      'n': 0.2,
      't': 0.2,
    }),
    'job': dict({
      'id': 'bf1b993c',
    }),
    'name': 'foo',
    'nickname': 'bar',
    'ready': True,
    'space': dict({
      'id': 0,
    }),
    'upload': 1,
    'user': dict({
      'id': 1,
    }),
  })
# ---
# name: test_finalize[obj]
  dict({
    'count': 1,
    'created_at': 'approximately_now_datetime',
    'file': dict({
      'id': 1,
      'name': 'malus.fa.gz',
    }),
    'files': list([
      dict({
        'download_url': 'https://virtool.example.com/api/subtractions/fb085f7f/files/subtraction.1.bt2',
        'id': 1,
        'name': 'subtraction.1.bt2',
        'size': 44026551,
        'subtraction': 'fb085f7f',
        'type': 'bowtie2',
      }),
      dict({
        'download_url': 'https://virtool.example.com/api/subtractions/fb085f7f/files/subtraction.2.bt2',
        'id': 2,
        'name': 'subtraction.2.bt2',
        'size': 29870392,
        'subtraction': 'fb085f7f',
        'type': 'bowtie2',
      }),
      dict({
        'download_url': 'https://virtool.example.com/api/subtractions/fb085f7f/files/subtraction.3.bt2',
        'id': 3,
        'name': 'subtraction.3.bt2',
        'size': 3257,
        'subtraction': 'fb085f7f',
        'type': 'bowtie2',
      }),
      dict({
        'download_url': 'https://virtool.example.com/api/subtractions/fb085f7f/files/subtraction.4.bt2',
        'id': 4,
        'name': 'subtraction.4.bt2',
        'size': 29870386,
        'subtraction': 'fb085f7f',
        'type': 'bowtie2',
      }),
      dict({
        'download_url': 'https://virtool.example.com/api/subtractions/fb085f7f/files/subtraction.fa.gz',
        'id': 5,
        'name': 'subtraction.fa.gz',
        'size': 36461731,
        'subtraction': 'fb085f7f',
        'type': 'fasta',
      }),
      dict({
        'download_url': 'https://virtool.example.com/api/subtractions/fb085f7f/files/subtraction.rev.1.bt2',
        'id': 6,
        'name': 'subtraction.rev.1.bt2',
        'size': 44026551,
        'subtraction': 'fb085f7f',
        'type': 'bowtie2',
      }),
      dict({
        'download_url': 'https://virtool.example.com/api/subtractions/fb085f7f/files/subtraction.rev.2.bt2',
        'id': 7,
        'name': 'subtraction.rev.2.bt2',
        'size': 29870392,
        'subtraction': 'fb085f7f',
        'type': 'bowtie2',
      }),
    ]),
    'gc': dict({
      'a': 0.2,
      'c': 0.2,
      'g': 0.2,
      'n': 0.2,
      't': 0.2,
    }),
    'id': 'fb085f7f',
    'job': dict({
      'created_at': 'approximately_now_datetime',
      'id': 'bf1b993c',
      'progress': 0,
      'retries': 0,
      'stage': None,
      'state': <JobState.WAITING: 'waiting'>,
      'user': dict({
        'handle': 'leeashley',
        'id': 1,
      }),
      'workflow': 'create_subtraction',
    }),
    'linked_samples': list([
    ]),
    'name': 'foo',
    'nickname': 'bar',
    'ready': True,
    'upload': dict({
      'created_at': 'approximately_now_datetime',
      'id': 1,
      'name': 'malus.fa.gz',
      'name_on_disk': 'uuid-malus.fa.gz',
      'ready': True,
      'removed': False,
      'removed_at': None,
      'reserved': False,
      'size': 723988,
      'type': 'subtraction',
      'uploaded_at': 'approximately_now_datetime',
      'user': dict({
        'handle': 'leeashley',
        'id': 1,
      }),
    }),
    'user': dict({
      'handle': 'leeashley',
      'id': 1,
    }),
  })
# ---
